<nav class="navbar">
  <div class="navbar-container">
    <div class="mobile-hamburger" (click)="toggleMobileMenu()">
      <span></span>
      <span></span>
      <span></span>
    </div>
    <div class="navbar-brand">
      <a routerLink="/" class="logo">FASHION<span>HUB</span></a>
    </div>
    
    <div class="search-container">
      <div class="search-box">
        <input type="text" placeholder="Search products..." class="search-input">
        <button class="search-button">
          <i class="fas fa-search"></i>
        </button>
      </div>
    </div>

    <div class="navbar-menu">
      <a routerLink="/products/Kurta" class="nav-link">Women</a>
      <a routerLink="/products/Jeans" class="nav-link">Men</a>
      <a routerLink="/products/Sale" class="nav-link">Accessories</a>
      <a routerLink="/products/newArrivals" class="nav-link">New Arrivals</a>
      <a routerLink="/products" class="nav-link">Sale</a>
    </div>

    <div class="navbar-actions">
      <!-- Show these buttons only when user is signed in -->
      <ng-container *ngIf="isSignedIn">
        <button class="icon-button"
        routerLink="/profile" matRipple>
          <i class="fas fa-user"></i>
          <span class="icon-label">Profile</span>
        </button>
        <button  routerLink="/orders"  class="icon-button" matRipple>
          <i class="far fa-heart"></i>
          <span class="icon-label">Wishlist</span>
        </button>
        <button routerLink="/cart" class="icon-button cart-button" matRipple>
          <i class="fas fa-shopping-bag"></i>
          <span class="icon-label">Cart</span>
          <span class="cart-count" *ngIf="cartItemCount > 0">{{cartItemCount}}</span>
        </button>
        <button class="icon-button" (click)="signOut()" matRipple>
          <i class="fas fa-sign-out-alt"></i>
          <span class="icon-label">Sign Out</span>
        </button>
      </ng-container>

      <!-- Show sign in button when user is not signed in -->
      <button *ngIf="!isSignedIn" class="sign-in-button" routerLink="/" (click)="signIn()" matRipple>
        <i class="fas fa-sign-in-alt"></i>
        <span>Sign In</span>
      </button>
    </div>
  </div>
</nav>

<!-- Mobile Navigation Overlay -->
<div class="mobile-navbar" [class.active]="isMobileMenuOpen">
  <div class="mobile-navbar-header">
    <a routerLink="/" class="logo">FASHION<span>HUB</span></a>
    <button class="close-button" (click)="toggleMobileMenu()">
      &times;
    </button>
  </div>

  <div class="mobile-search-container" [class.active]="isMobileMenuOpen">
    <div class="search-box">
      <input type="text" placeholder="Search products..." class="search-input">
      <button class="search-button">
        <i class="fas fa-search"></i>
      </button>
    </div>
  </div>

  <div class="mobile-menu" [class.active]="isMobileMenuOpen">
    <a routerLink="/products/Kurta" class="nav-link" (click)="toggleMobileMenu()">Women</a>
    <a routerLink="/products/Jeans" class="nav-link" (click)="toggleMobileMenu()">Men</a>
    <a routerLink="/products/Sale" class="nav-link" (click)="toggleMobileMenu()">Accessories</a>
    <a routerLink="/products/newArrivals" class="nav-link" (click)="toggleMobileMenu()">New Arrivals</a>
    <a routerLink="/products" class="nav-link" (click)="toggleMobileMenu()">Sale</a>
  </div>
</div>